"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CSVToArray(e,t){t=t||",";for(var n=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),i=[[]],a=null;a=n.exec(e);){var r,s=a[1];s.length&&s!=t&&i.push([]),r=a[2]?a[2].replace(new RegExp('""',"g"),'"'):a[3],i[i.length-1].push(r)}return i}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var RootCtrl=function e(t){var n=this;_classCallCheck(this,e),t.getConfig().then(function(e){n.data=e,n.state=new State})};RootCtrl.$invoke=["configService"],angular.module("PositioningApp",["common.altthemes","common.navigation","common.storage","common.templates","common.toolbar","explorer.confirm","explorer.drag","explorer.enter","explorer.flasher","explorer.googleanalytics","explorer.httpdata","explorer.info","explorer.legend","explorer.message","explorer.modal","explorer.persist","explorer.projects","explorer.tabs","explorer.version","exp.ui.templates","positioning.config","positioning.download","positioning.file","positioning.filedrop","positioning.header","positioning.proxy","positioning.templates","ui.bootstrap","ui.bootstrap-slider","page.footer"]).config(["projectsServiceProvider","versionServiceProvider","persistServiceProvider",function(e,t,n){t.url("positioning/assets/package.json"),e.setProject("positioning"),n.handler("local")}]).factory("userService",[function(){function e(){return!0}return{login:e,hasAcceptedTerms:e,setAcceptedTerms:e,getUsername:function(){return{then:function(e){return e("anon")}}}}}]).controller("RootCtrl",RootCtrl).filter("bytes",function(){return function(e,t){if(isNaN(parseFloat(e))||!isFinite(e))return"-";"undefined"==typeof t&&(t=0);var n=["bytes","kB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(i))).toFixed(t)+" "+n[i]}});var _config={version:"1.3.0",user:"anon",clientSessionId:"ba68cb1b-93f1-4f4d-b330-e47469db1836",maxFileSize:524288e3,fileUploadFormats:[{name:"CSV",url:"https://en.wikipedia.org/wiki/Comma-separated_values",description:"Comma seperated variables.",extensions:["csv"]},{name:"Shapefile",url:"http://wiki.openstreetmap.org/wiki/Shapefiles",description:"ESRI shapefile format is a popular geospatial vector data format for geographic information system (GIS) software.",extensions:["shp"]},{name:"JPEG2000",url:"https://en.wikipedia.org/wiki/JPEG_2000",description:"JPEG 2000 (JP2) is an image compression standard and coding system.",extensions:["j2","j2k","jpx","jpf","jpm","jpp","jp2000","jp2k"]},{name:"GeoJSON",url:"https://en.wikipedia.org/wiki/GeoJSON",description:"GeoJSON is an open standard format designed for representing simple geographical features, based on JSON.",extensions:["json"]},{name:"GeoTIFF",url:"https://en.wikipedia.org/wiki/GeoTIFF",description:"GeoTIFF is a public domain metadata standard which allows georeferencing information to be embedded within a TIFF file.",extensions:["tif"]},{name:"ASCII Grid",url:"https://en.wikipedia.org/wiki/Comma-separated_values",description:"An Esri grid is a raster GIS file format developed by Esri, which has two formats and we accept the ASCII format here.",extensions:["asc"]},{name:"ECW",url:"https://en.wikipedia.org/wiki/ECW_(file_format)",description:"ECW, an enhanced compressed wavelet file format designed for geospatial imagery.",extensions:["ecw"]}],submit:{uploadTemplate:"/positioning/upload"},transformation:[{key:"GDA94_to_GDA2020_7P",value:"Conformal 7-Parameter Similarity",height:!0},{key:"GDA94_to_GDA2020_C",value:"Conformal"},{key:"GDA94_to_GDA2020_DC",value:"Conformal and Distortion"}]};angular.module("positioning.config",[]).service("configService",["$q",function(e){var t={getConfig:function(t){var n=this.config;return t&&(n=n[t]),e.when(n)},get config(){return _config}};return t}]),angular.module("positioning.download",[]).directive("posDownload",[function(){return{restrict:"AE",templateUrl:"positioning/download/download.html",link:function(e){}}}]);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),CsvService=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.$q=t,n.getConfig().then(function(e){i.blockSize=e.blockSize?e.blockSize:8192})}return _createClass(e,[{key:"getColumns",value:function(e){var t=e.slice(0,this.blockSize),n=new FileReader;return n.readAsText(t),this.$q(function(e,t){n.onloadend=function(n){if(n.target.readyState===FileReader.prototype.DONE){var i=n.target.result;if(i.length){var a=i.substr(0,i.lastIndexOf("\n"));a?e(CSVToArray(a)):t(i)}else t(i)}}})}}]),e}();CsvService.$invoke=["$q","configService"],angular.module("positioning.csv",[]).directive("csvFile",["csvService","messageService",function(e,t){return{templateUrl:"positioning/csv/csv.html",scope:{state:"=",settings:"="},link:function(n){n.state.dmsType="deg",e.getColumns(n.state.file).then(function(e){n.columns=e[0]})["catch"](function(){t.error("Only CSV files with the first line containing column names are acceptable for transformation"),n.state.clear()}),n.allowsHeight=function(){var e=n.state.transformation;return n.settings.transformation.some(function(t){return t.key===e&&t.height})}}}}]).service("csvService",CsvService),angular.module("positioning.dialog",["positioning.filename","positioning.mandatory","positioning.output","positioning.progress","positioning.email"]).directive("acceptProjection",[function(){return{scope:{state:"="},templateUrl:"positioning/dialog/isprojection.html"}}]).directive("transformationTarget",["configService",function(e){return{scope:{state:"="},templateUrl:"positioning/dialog/transformationtarget.html",link:function(t){e.getConfig("transformation").then(function(e){t.transformations=e})}}}]).directive("uploadDialog",[function(){return{scope:{state:"=",settings:"="},templateUrl:"positioning/dialog/dialog.html",link:function(e){e.cancel=function(){e.state=new State}}}}]).directive("uploadSubmit",["configService","edDownloadService","messageService",function(e,t,n){return{templateUrl:"download/downloader/submit.html",scope:{item:"=",processing:"="},link:function(e,i,a){e.submit=function(){var i=e.processing;t.setEmail(i.email),t.submit(e.item.processing.template,{id:e.item.primaryId,yMin:i.clip.yMin,yMax:i.clip.yMax,xMin:i.clip.xMin,xMax:i.clip.xMax,outFormat:i.outFormat.code,outCoordSys:i.outCoordSys.code,filename:i.filename?i.filename:"",email:i.email}),n.success("Submitted your job. An email will be delivered on completion.")}}}}]).filter("projectionCode",function(){return function(e){return"GDA94_to_GDA2020_7P"===e?"EPSG::4939":"EPSG::4283"}});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),EmailService=function(){function e(t){_classCallCheck(this,e),this.persistService=t,this.key="download_email"}return _createClass(e,[{key:"setEmail",value:function(e){this.persistService.setItem(this.key,e)}},{key:"getEmail",value:function(){return this.persistService.getItem(this.key)}}]),e}();EmailService.$invoke=["persistService"],angular.module("positioning.email",[]).directive("email",["emailService",function(e){return{template:'<div class="input-group"><span class="input-group-addon" id="pos-email">Email</span><input required="required" type="email" ng-change="changeEmail(state.email)" ng-model="state.email" class="form-control" placeholder="Email address to send download link" aria-describedby="nedf-email"></div>',restrict:"AE",scope:{state:"="},link:function(t,n){e.getEmail().then(function(e){t.state.email=e}),t.changeEmail=function(t){e.setEmail(t)}}}}]).service("emailService",EmailService);var FileController=function t(){_classCallCheck(this,t)};angular.module("positioning.file",["positioning.format","positioning.csv","positioning.shp","positioning.dialog"]).directive("file",function(){return{templateUrl:"positioning/file/file.html"}}).controller("fileController",FileController),angular.module("positioning.filedrop",[]).directive("fileDrop",["messageService",function(e){return{templateUrl:"positioning/filedrop/filedrop.html",scope:{state:"="},link:function(t,n){function i(n,i){t.state.file?e.error('If you are sure you want to replace the current worklow "Cancel" the previous workflow first.'):(t.state.file=i,t.state.type="single",t.state.extension=n,t.state.outputName=i.name.substr(0,i.name.lastIndexOf(".")))}function a(n){t.state.file?e.error('If you are sure you want to replace the current worklow "Cancel" the previous workflow first.'):(t.state.file=n,t.state.type=t.state.extension="csv",t.state.outputName=n.name.substr(0,n.name.lastIndexOf(".")))}function r(n,i){var a=i.name.substr(0,i.name.lastIndexOf("."));if(t.state.file||(t.state.outputName=a,t.state.type=t.state.extension="shp",t.state.fileMap={dbf:!1,shp:!1,shx:!1,prj:!1}),t.state.fileMap&&("csv"===t.state.ext||t.full||t.state.outputName!==a))e.error('If you are sure you want to replace the current worklow "Cancel" the previous workflow first.');else{var r=t.state.fileMap;r[n]=i,t.state.file=Object.values(r).filter(function(e){return e})}}new FileDrop(n[0],function(n){t.$apply(function(){var t=n.name,s=t.substr(t.lastIndexOf(".")+1);switch(s=s?s.toLowerCase():""){case"csv":a(n);break;case"dbf":case"prj":case"shp":case"shx":r(s,n);break;case"json":case"tif":case"asc":case"ecw":case"j2":case"j2k":case"jpx":case"jpf":case"jpm":case"jpp":case"jp2000":case"jp2k":i(s,n);break;default:e.warn('Ignoring "'+n.name+'" as it is not a supported format.')}})})}}}]),angular.module("positioning.filename",[]).directive("filename",[function(){return{scope:{state:"="},templateUrl:"positioning/filename/filename.html"}}]),angular.module("positioning.header",[]).controller("headerController",["$scope","$q","$timeout",function(e,t,n){var i=function(e){return e};e.$on("headerUpdated",function(t,n){e.headerConfig=i(n)})}]).directive("icsmHeader",[function(){var e={heading:"ICSM",headingtitle:"ICSM",helpurl:"help.html",helptitle:"Get help about ICSM",helpalttext:"Get help about ICSM",skiptocontenttitle:"Skip to content",skiptocontent:"Skip to content",quicklinksurl:"/search/api/quickLinks/json?lang=en-US"};return{transclude:!0,restrict:"EA",templateUrl:"positioning/header/header.html",scope:{breadcrumbs:"=",current:"=",heading:"=",headingtitle:"=",helpurl:"=",helptitle:"=",helpalttext:"=",skiptocontenttitle:"=",skiptocontent:"=",quicklinksurl:"="},link:function(t,n,i){angular.copy(e);angular.forEach(e,function(e,n){n in t||(t[n]=e)})}}}]),angular.module("positioning.format",[]).directive("inputFormat",function(){return{scope:{list:"="},templateUrl:"positioning/formats/formats.html"}}),angular.module("positioning.output",[]).directive("outputFormat",function(){return{link:{state:"="},templateUrl:"positioning/output/output.html"}}),angular.module("positioning.progress",[]).directive("progressBarCsv",["flashService","messageService","submitService",function(e,t,n){return{scope:{state:"="},templateUrl:"positioning/progress/progresscsv.html",link:function(i){i.submit=function(){var a=e.add("Uploading files",3e4,!0);n.post(i.state).then(function(){a.remove(),t.success("Files are queued for processing. You will receive an email on completion.")})["catch"](function(e){a.remove(),t.error("Posted CSV file for processing but the request failed. Please try again later.")}),i.state=new State},i.cancel=function(){t.success("Cleared selected CSV file"),i.state=new State}}}}]).directive("progressBarSingle",["flashService","messageService","submitService",function(e,t,n){return{scope:{state:"="},templateUrl:"positioning/progress/progresssingle.html",link:function(i){i.submit=function(){var a=e.add("Uploading files",3e4,!0);n.post(i.state).then(function(){a.remove(),t.success("Files are queued for processing. You will receive an email on completion.")})["catch"](function(e){a.remove(),t.error("Posted file for processing but the request failed. Please try again later.")}),i.state=new State},i.cancel=function(){t.success("Cleared selected file"),i.state=new State}}}}]).directive("progressBarShapefile",["flashService","messageService","submitService",function(e,t,n){return{scope:{state:"="},templateUrl:"positioning/progress/progresshapefile.html",link:function(i){i.submit=function(){var a=e.add("Uploading files",3e4,!0);n.post(i.state).then(function(){a.remove(),t.success("Files are queued for processing. You will receive an email on completion.")})["catch"](function(e){a.remove(),t.error("Posted file for processing but the request failed. Please try again later.")}),i.state=new State},i.cancel=function(){t.success("Cleared selected shapefiles"),i.state=new State}}}}]).filter("sumFiles",[function(){return function(e){return e?Object.keys(e).reduce(function(t,n){return t+e[n].size},0):0}}]);var ShpService=function n(e){_classCallCheck(this,n),this.$q=e};ShpService.$invoke=["$q"],angular.module("positioning.shp",[]).directive("shpFile",["shpService",function(e){return{templateUrl:"positioning/shapefile/shapefile.html",restrict:"AE",scope:{state:"=",settings:"="},link:function(e){}}}]).service("shpService",ShpService);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),ProxyService=function(){function e(t,n){_classCallCheck(this,e),this.$q=t,this.config=n.config.submit}return _createClass(e,[{key:"post",value:function(e){function t(){console.log("Data transferred"),p.resolve(!0)}function n(){var t={input_filename:s,transformation:e.transformation,email:e.email};return"csv"===i&&("dms"===e.dmsType?(t.lat_deg_fld=e.latDegreesCol,t.lng_deg_fld=e.lngDegreesCol,t.lat_min_fld=e.latMinutesCol,t.lng_min_fld=e.lngMinutesCol,t.lat_sec_fld=e.latSecondsCol,t.lng_sec_fld=e.lngSecondsCol):(t.lat_dd_fld=e.latDegreesCol,t.lng_dd_fld=e.lngDegreesCol),e.heightCol&&(t.z_fld=e.heightCol)),t}var i=e.extension,a=new FormData,r=Array.isArray(e.file)?e.file:[e.file],s=null;r.forEach(function(e){s&&!e.name.toUpperCase().endsWith(".SHP")||(s=e.name),a.append("filename",e)});var o=n(),l=this.config.uploadTemplate;l+=l.lastIndexOf("?")>0?"":"?";var c=Object.keys(o).map(function(e){return e+"="+encodeURIComponent(o[e])});l+=c.join("&");var d=new XMLHttpRequest;d.addEventListener("load",t,!1),d.open("POST",l),d.send(a);var p=this.$q.defer();return p.promise}}]),e}();ProxyService.$inject=["$q","configService"],angular.module("positioning.proxy",[]).service("submitService",ProxyService);var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),SubmitService=function(){function e(t,n,i){_classCallCheck(this,e),this.$q=n,this.$http=t,this.config=i.config.submit}return _createClass(e,[{key:"post",value:function(e){var t=this,n=e.extension;encodeURIComponent(e.file.name);return this.$http({url:this.config.tokenUrl,cache:!0}).then(function(i){function a(t){var i={input_filename:c,transformation:e.transformation,email:e.email};"csv"===n&&("dms"===e.dmsType?(i.lat_deg_fld=e.latDegreesCol,i.lng_deg_fld=e.lngDegreesCol,i.lat_min_fld=e.latMinutesCol,i.lng_min_fld=e.lngMinutesCol,i.lat_sec_fld=e.latSecondsCol,i.lng_sec_fld=e.lngSecondsCol):(i.lat_dd_fld=e.latDegreesCol,i.lng_dd_fld=e.lngDegreesCol),e.heightCol&&(i.z_fld=e.heightCol)),l.post(o.transformUrl,i,{headers:{"Content-Type":"application/json"}}).then(function(e){return p.resolve(e)})["catch"](function(e){return p.reject(e)})}var r=new FormData,s=Array.isArray(e.file)?e.file:[e.file],o=t.config,l=t.$http,c=null;s.forEach(function(e){c&&!e.name.toUpperCase().endsWith(".SHP")||(c=e.name),r.append("filename",e)});var d=new XMLHttpRequest;d.addEventListener("load",a,!1),d.open("POST",o.uploadTemplate.replace("{token}",i.data.serviceResponse.token)),d.send(r);var p=t.$q.defer();return p.promise})}}]),e}();SubmitService.$inject=["$http","$q","configService"],angular.module("positioning.submit",[]).service("submitService",SubmitService);var FileDrop=function i(e,t){function n(e){e.stopPropagation(),e.preventDefault(),console.log("dragenter")}function a(e){e.stopPropagation(),e.preventDefault(),console.log("dragover")}function r(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer,n=t.files;s(n)}function s(e){if(e)for(var n=0;n<e.length;n++)t(e.item(n))}if(_classCallCheck(this,i),!t||"function"!=typeof t)throw Error("No file handler provided");if(!e)throw Error("No element provided");e.addEventListener("dragenter",n,!1),e.addEventListener("dragover",a,!1),e.addEventListener("drop",r,!1)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),LinePusher=function(){function e(t){_classCallCheck(this,e),this.PAGE_SIZE=16384,this.file=t,this.length=t.size,this.pageNo=-1,this.index=0,this.reader=new FileReader,this.lineBuffer=[]}return _createClass(e,[{key:"start",value:function(e){for(var t=this.read();t;){var n=this.next();switch(n.state){case"more":t=this.read();break;case"line":e(n.line);break;case"complete":e(n.line),t=!1}}}},{key:"read",value:function(){var e=this;this.pageNo++,this.index=0;var t=this,n=this.pageNo*this.PAGE_SIZE,i=this.file.slice(n,n+this.PAGE_SIZE);return this.reader.readAsText(i),new Promise(function(i){return n>=e.length?void i(!1):void(t.reader.onloadend=function(n){n.target.readyState===FileReader.prototype.DONE&&(console.log("Reading page "+t.pageNo),t.buffer=n.target.result,i(e.hasMore()))})})}},{key:"hasMore",value:function(){return this.index+this.PAGE_SIZE*this.pageNo<this.length-1}},{key:"next",value:function(){for(;this.hasMore();){if(!this.buffer||this.index>=this.PAGE_SIZE)return{state:"more"};var e=this.buffer[this.index++];if("\r"!==e){if("\n"===e)break;this.lineBuffer.push(e)}}var t=this.lineBuffer.join("");return this.lineBuffer=[],{state:this.hasMore()?"line":"complete",line:t}}}]),e}();String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return t<this.length?t|=0:t=this.length,this.substr(t-e.length,e.length)===e}),Object.values||(Object.values=function(e){return Object.keys(e).map(function(t){return e[t]})});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),State=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"clear",value:function(){this.extension=this.file=this.outputName=this.fileMap=this.type=this.files=this.isProjection=this.dmsType=null}},{key:"isCsv",get:function(){return"csv"===this.extension}},{key:"isSinglefile",get:function(){return"single"===this.type}},{key:"isShapefile",get:function(){return"shp"===this.extension}},{key:"full",get:function(){var e=this.fileMap;return!!e&&(e.dbf&&e.shp&&e.shx)}},{key:"validFileInfo",get:function(){return this.isCsv?this.validCsvFileInfo:this.validShpFileInfo}},{key:"validShpFileInfo",get:function(){return!0}},{key:"validSingleFileInfo",get:function(){return!0}},{key:"validCsvFileInfo",get:function(){var e=this.latDegreesCol&&this.lngDegreesCol&&this.isProjection;return"dms"===this.dmsType&&(e=e&&this.latMinutesCol&&this.latSecondsCol&&this.lngMinutesCol&&this.lngSecondsCol&&("GDA94_to_GDA2020_7P"!==this.transformation||this.heightCol)),e}},{key:"validEmail",get:function(){return!!this.email}},{key:"acceptedProjection",get:function(){return!!this.isProjection}},{key:"validFilename",get:function(){return!!this.outputName}},{key:"validOutFormat",get:function(){return!!this.outFormat}},{key:"validForm",get:function(){return this.percentage>99.99}},{key:"percentage",get:function(){var e=this;if(!this.file)return 0;var t=0,n=3;return t+=this.validEmail?1:0,t+=this.acceptedProjection?1:0,t+=this.transformation?1:0,this.isCsv?(n+=2,this.transformation&&"GDA94_to_GDA2020_7P"===this.transformation&&(n++,t+=this.heightCol?1:0),t+=this.latDegreesCol?1:0,t+=this.lngDegreesCol?1:0,"dms"===this.dmsType&&(n+=4,t+=this.latMinutesCol?1:0,t+=this.lngMinutesCol?1:0,t+=this.latSecondsCol?1:0,t+=this.lngSecondsCol?1:0)):this.isShapefile?(["dbf","shp","shx"].forEach(function(n){return t+=e.fileMap[n]?1:0}),n+=3):this.isSinglefile,100*t/n}}]),e}();angular.module("positioning.mandatory",[]).directive("mandatory",function(){return{template:'<span class="mandatory" title="You must provide a value">*</span>'}}),angular.module("positioning.templates",[]).run(["$templateCache",function(e){e.put("positioning/csv/csv.html",'<div>\r\n   <h4>A few questions about your CSV file named "{{state.file.name}}"</h4>\r\n   <transformation-target state="state"></transformation-target>\r\n   <div>\r\n      <div class="row">\r\n         <div class="col-md-12">\r\n            <span class="csv-label">\r\n               Lat/lng fields are in\r\n               <mandatory />\r\n            </span>\r\n            <span class="pull-right">\r\n               <label for="csvDegrees">\r\n                  Decimal degrees <span class="csv-verbose">(2 cols)</span>\r\n               </label>\r\n               <input name="csvDegrees" type="radio" value="deg" ng-model="state.dmsType" />\r\n               or\r\n               <label for="csvDms">\r\n                  Degrees/minutes/seconds <span class="csv-verbose">(6 cols)</span>\r\n               </label>\r\n               <input name="csvDms" type="radio" value="dms" ng-model="state.dmsType" />\r\n            </span>\r\n         </div>\r\n      </div>\r\n\r\n      <div class="row" ng-if="state.dmsType == \'deg\'">\r\n         <div class="col-md-3 csv-label">\r\n            Columns\r\n         </div>\r\n         <div class="col-md-9">\r\n            <div style="text-align: right">\r\n               <label for="csvSelectLatDecDegrees" style="width:9em">\r\n                  Latitude\r\n                  <mandatory />\r\n               </label>\r\n               <select id="csvSelectLatDecDegrees" ng-model="state.latDegreesCol" ng-options="o as o for o in columns"></select>\r\n            </div>\r\n            <div style="text-align: right">\r\n               <label for="csvSelectLngDecDegrees" style="width:9em">\r\n                  Longitude\r\n                  <mandatory />\r\n               </label>\r\n               <select id="csvSelectLngDecDegrees" ng-model="state.lngDegreesCol" ng-options="o as o for o in columns"></select>\r\n            </div>\r\n         </div>\r\n      </div>\r\n\r\n      <div class="row" ng-if="state.dmsType == \'dms\'">\r\n         <div class="col-md-3 csv-label">\r\n            Columns\r\n         </div>\r\n         <div class="col-md-9 csv-fix-label">\r\n            <div style="text-align: right">\r\n               <label for="csvSelectLatDegrees">\r\n                  Latitude Degrees\r\n                  <mandatory />\r\n               </label>\r\n               <select id="csvSelectLatDegrees" ng-model="state.latDegreesCol" ng-options="o as o for o in columns"></select>\r\n            </div>\r\n            <div style="text-align: right">\r\n               <label for="csvSelectLatMinutes">\r\n                  Minutes\r\n                  <mandatory />\r\n               </label>\r\n               <select id="csvSelectLatMinutes" ng-model="state.latMinutesCol" ng-options="o as o for o in columns"></select>\r\n            </div>\r\n            <div style="text-align: right">\r\n               <label for="csvSelectLatSeconds">\r\n                  Seconds\r\n                  <mandatory />\r\n               </label>\r\n               <select id="csvSelectLatSeconds" ng-model="state.latSecondsCol" ng-options="o as o for o in columns"></select>\r\n            </div>\r\n            <div style="text-align: right">\r\n               <label for="csvSelectLngDegrees">\r\n                  Longitude Degrees\r\n                  <mandatory />\r\n               </label>\r\n               <select id="csvSelectLngDegrees" ng-model="state.lngDegreesCol" ng-options="o as o for o in columns"></select>\r\n            </div>\r\n            <div style="text-align: right">\r\n               <label for="csvSelectLngMinutes">\r\n                  Minutes\r\n                  <mandatory />\r\n               </label>\r\n               <select id="csvSelectLngMinutes" ng-model="state.lngMinutesCol" ng-options="o as o for o in columns"></select>\r\n            </div>\r\n            <div style="text-align: right">\r\n               <label for="csvSelectLngSeconds">\r\n                  Seconds\r\n                  <mandatory />\r\n               </label>\r\n               <select id="csvSelectLngSeconds" ng-model="state.lngSecondsCol" ng-options="o as o for o in columns">\r\n               </select>\r\n            </div>\r\n         </div>\r\n      </div>\r\n      <div class="row" ng-show="allowsHeight()">\r\n         <div class="col-md-12 csv-fix-label">\r\n            <span style="float:right">\r\n            <label for="csvSelectLatDegrees">\r\n               Ellipsoidal Height\r\n               <mandatory />\r\n            </label>\r\n            <select id="csvSelectHeight" ng-model="state.heightCol" ng-options="o as o for o in columns"></select>\r\n            </span>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</div>'),e.put("positioning/dialog/dialog.html",'<div class="upload-dialog">\r\n   <div class="ud-info" ng-if="!state.file">\r\n      <div style="font-weight: bold">\r\n         <i class="fa fa-hand-o-left point-at-box fa-2x" aria-hidden="true" style="padding-right:12px;"></i>\r\n         Select and drop file(s) for reprojection\r\n      </div>\r\n      <br/>\r\n      <div>\r\n         <span style="font-weight: bold">CSV -</span>\r\n         Drop a single CSV file with field names in the first row and a ".csv" extension and we will scan for columns and ask follow up questions.\r\n      </div>\r\n      </br/>\r\n      <div>\r\n         <span style="font-weight: bold">Shapefile -</span>\r\n         Drop at least three files with the same file prefix to transform a shapefile:\r\n         <ul>\r\n            <li>".shp" — shape format; the feature geometry itself.</li>\r\n            <li>".shx" — shape index format; a positional index of the feature geometry to allow seeking forwards and backwards quickly.</li>\r\n            <li>".dbf" — attribute format; columnar attributes for each shape, in dBase IV format.</li>\r\n            <li><i>".prj" — OPTIONAL — projection; describes the coordinate system and projection information used.</i></li>\r\n         </ul>\r\n      </div>\r\n      <div>\r\n         <span style="font-weight: bold">JPEG2000 -</span>\r\n         Drop a single JPEG2000 file with a ".j2", ".j2k", ".jpx", ".jpf", ".jpm", ".jpp", ".jp2000" or ".jp2k" extension and we will process this as a JPEG2000 file.\r\n      </div>\r\n      </br/>\r\n      <div>\r\n         <span style="font-weight: bold">GeoJSON -</span>\r\n         Drop a single GeoJSON file with a ".json" extension and we will process this as a GeoJSON file.\r\n      </div>\r\n      </br/>\r\n      <div>\r\n         <span style="font-weight: bold">GeoTIFF -</span>\r\n         Drop a single GeoTIFF file with a ".tif" extension and we will process this as a GeoTIFF file.\r\n      </div>\r\n      </br/>\r\n      <div>\r\n         <span style="font-weight: bold">ASCII Grid -</span>\r\n         Drop a single ASCII Grid file with an ".asc" extension and we will process this as a ASCII Grid file.\r\n      </div>\r\n      </br/>\r\n      <div>\r\n         <span style="font-weight: bold">ECW -</span>\r\n         Drop a single ECW file with an ".ecw" extension and we will process this as a ECW file.\r\n      </div>\r\n   </div>\r\n\r\n   <div ng-if="state.file && state.extension == \'csv\'">\r\n      <h3>Selected {{state.file.name}} ({{state.file.size | bytes}})</h3>\r\n   </div>\r\n   <div style="text-align:right" ng-if="state.file.size > settings.maxFileSize">\r\n      The size of the file to be uploaded must not exceed {{settings.maxFileSize | bytes}}. Please select a smaller file.\r\n      <button type="button" class="btn btn-primary" ng-click="cancel()">OK</button>\r\n   </div>\r\n   <hr />\r\n   <div ng-show="state.file">\r\n      <div ng-if="state.extension == \'csv\' && state.file.size < settings.maxFileSize">\r\n         <csv-file state="state" settings="settings" />\r\n      </div>\r\n      <div ng-if="state.extension == \'shp\'">\r\n         <shp-file state="state" settings="settings" />\r\n      </div>\r\n      <div ng-if="state.type == \'single\'">\r\n         <h4>A few questions about your file named "{{state.file.name}}"</h4>\r\n      </div>\r\n      <transformation-target ng-if="state.extension !== \'csv\'" state="state"></transformation-target>\r\n      <accept-projection state="state"></accept-projection>\r\n   </div>\r\n   <div ng-show="state.file">\r\n      <div>\r\n         <h4>Nominate your notification email address<mandatory /></h4>\r\n         <email state="state" ng-if="state" />\r\n      </div>\r\n\r\n      <div style="padding-top: 10px">\r\n         <progress-bar-single state="state" ng-show="state.type == \'single\'"/>\r\n         <progress-bar-csv state="state" ng-show="state.extension == \'csv\'"/>\r\n         <progress-bar-shapefile state="state" ng-show="state.extension == \'shp\'" />\r\n      </div>\r\n   </div>\r\n</div>'),e.put("positioning/dialog/isprojection.html",'<div ng-show="state.transformation">\r\n   <div class="row">\r\n      <div class="col-md-6">\r\n         <label for="isProjection">\r\n\t\t\t\t\tThe data is in <a target="_blank" href="http://www.epsg-registry.org/">{{state.transformation|projectionCode}}</a> projection <mandatory />\r\n\t\t\t</label>\r\n      </div>\r\n      <div class="col-md-6" style="text-align:right">\r\n         <button id="isProjection" type="button" title="The data must be in the {{state.transformation|projectionCode}} projection to be transformed correctly."\r\n               class="btn btn-default btn-xs" ng-click="state.isProjection = !state.isProjection">\r\n            <i class="fa" style="width:12px;height:12px;color:green" ng-class="{\'fa-check\':state.isProjection}" aria-hidden="true"></i>\r\n         </button>\r\n      </div>\r\n   </div>\r\n</div>'),e.put("positioning/dialog/submit.html",'<div style="padding-bottom:2px">\r\n   <div class="row">\r\n      <div class="col-md-6" style="padding-top:7px">\r\n         <div class="progress">\r\n            <div class="progress-bar" role="progressbar" aria-valuenow="{{state.percentComplete}}" aria-valuemin="0" aria-valuemax="100"\r\n                  style="width: {{state.percentComplete}}%;">\r\n                <span class="sr-only">60% Complete</span>\r\n            </div>\r\n         </div>\r\n      </div>\r\n      <div class="col-md-4" style="padding-top:7px">\r\n         <span style="padding-right:10px" uib-tooltip="Select a valid coordinate system." tooltip-placement="left">\r\n            <i class="fa fa-crosshairs fa-2x" ng-class="{\'ed-valid\': state.validProjection, \'ed-invalid\': !state.validProjection }"></i>\r\n         </span>\r\n         <span style="padding-right:10px" uib-tooltip="Select a latitude and longitude columns." tooltip-placement="left">\r\n            <i class="fa fa-arrows fa-2x" ng-class="{\'ed-valid\': state.validFields, \'ed-invalid\': !state.validFields}"></i>\r\n         </span>\r\n         <span style="padding-right:10px" uib-tooltip="Select a valid download format." tooltip-placement="left">\r\n            <i class="fa fa-files-o fa-2x" ng-class="{\'ed-valid\': state.validFormat, \'ed-invalid\': !state.validFormat}"></i>\r\n         </span>\r\n         <span style="padding-right:10px" uib-tooltip="Provide an email address." tooltip-placement="left">\r\n            <i class="fa fa-envelope fa-2x" ng-class="{\'ed-valid\': state.validEmail, \'ed-invalid\': !state.validEmail}"></i>\r\n         </span>\r\n      </div>\r\n      <div class="col-md-2">\r\n         <button type="button" class="btn btn-primary" ng-click="cancel()">Cancel</button>\r\n         <button type="button" ng-disabled="!state.ready" class="btn btn-primary">Submit</button>\r\n      </div>\r\n   </div>\r\n</div>'),
e.put("positioning/dialog/transformationtarget.html",'<div class="row" style="margin-bottom:10px">\r\n   <div class="col-md-12">\r\n      <span style="font-weight:bold">\r\n         <span class="transform-verbose">Transformation type:</span>\r\n         <span class="transform-succinct">Transformation type:</span>\r\n         <mandatory />\r\n      </span>\r\n      <span style="text-align: right" ng-if="transformations.length > 3">\r\n         <select id="transformation" ng-model="state.transformation">\r\n            <option ng-selected="true" value=""></option>\r\n            <option ng-repeat="option in transformations" value="{{option.key}}">{{option.value}}</option>\r\n         </select>\r\n      </span>\r\n      <span style="float: right" ng-if="transformations.length === 3">\r\n         <input type="radio" ng-model="state.transformation" ng-value="transformations[0].key" id="radio1">\r\n         <label for="radio1">{{transformations[0].value}}</label>\r\n         <span style="padding-right: 10px"></span>\r\n         <input type="radio" ng-model="state.transformation" ng-value="transformations[1].key" id="radio2">\r\n         <label for="radio2">{{transformations[1].value}}</label>\r\n         <span style="padding-right: 10px"></span>\r\n         <input type="radio" ng-model="state.transformation" ng-value="transformations[2].key" id="radio3">\r\n         <label for="radio3">{{transformations[2].value}}</label>\r\n      </span>\r\n   </div>\r\n</div>'),e.put("positioning/file/file.html",'<div class="container-fluid file-container" ng-controller="RootCtrl as root">\r\n   <div class="row">\r\n      <div class="col-md-7" style="border-right: 2px solid lightgray">\r\n         <div>\r\n            <h3 style="margin-top:10px">Purpose</h3>\r\n            <div style="float:right; padding-left: 10px">\r\n               <div style="padding-bottom:5px">\r\n                  <file-drop state="root.state" />\r\n               </div>\r\n               <input-format list="root.data.fileUploadFormats" />\r\n            </div>\r\n            The online transformation service (powered by FME) provides a reference standard that enables software developers and spatial professionals to transform their data from the Geocentric Datum of Australia 1994 (GDA94) to the Geocentric Datum of Australia 2020 (GDA2020). Users can simply drag and drop files onto the page and receive an email with a link to download the output file.\r\n            <br/><br/>\r\n            Please note, this service is not intended to enable users to transform all their data from GDA94 to GDA2020; instead it aims to provide a method of checking systems and processes implemented by government or the spatial industry to ensure the transformation results are correct. The online transformation service accepts the following formats at this time: Shapefiles, CSV, ASCII Grid, GeoTiff, ECW, JPEG2000, GeoJSON.\r\n         </div>\r\n\r\n         <h3 style="clear:both">Choice of Transformation</h3>\r\n         Three different transformations  are provided for you to choose from:\r\n         <ul>\r\n            <li>7-parameter similarity</li>\r\n            <li>Conformal</li>\r\n            <li>Conformal and Distortion</li>\r\n         </ul>\r\n\r\n         <strong>7-parameter similarity:</strong> predominantly plate motion (~1.7 m NNE). It can be applied to 3-dimensional data, where horizontal coordinates are provided in latitudes and longitudes and the vertical values are ellipsoidal heights. AHD heights first need to be transformed to ellipsoidal heights using <a target="_blank" class="brighter" href="http://www.ga.gov.au/scientific-topics/positioning-navigation/geodesy/ahdgm/ausgeoid2020">AUSGeoid2020</a>. The 7-parameter similarity transformation is available for all locations within the GDA2020 extent (Australia, Cocos (Keeling) Islands, Christmas Island, Lord Howe Island, Norfolk Island and Macquarie Island and their maritime zones).\r\n         <br/>\r\n         <br/>\r\n\r\n         <strong>Conformal grid:</strong> predominantly plate tectonic motion (~1.7 m NNE) and replicates a 7-parameter similarity transformation. Heights are not transformed. Conformal grid transformations are only available for Australia and offshore areas.\r\n         <br/>\r\n         <i>NOTE: If GDA94 coordinates were observed using Global Navigation Satellite System (GNSS) technology, with corrections coming from a network of GNSS reference stations (such as GPSnet, CORSnet-NSW), it is likely that the coordinates will be unaffected by local distortions. In this case, the Conformal grid or a seven-parameter similarity transformation would be most suitable to transform the GDA94 coordinates to GDA2020.</i>\r\n         <br/>\r\n         <br/>\r\n         <strong>Conformal and Distortion grid:</strong> plate tectonic motion and regional distortion caused by an improved realisation of the global reference frame over time; irregular ground movement since GDA94 was established; and improvements in computation methods since GDA94. These effects vary in magnitude and direction around the country and can be as large as ~0.5 m. Heights are not transformed. Conformal and Distortion grid transformations are only available for Australia and offshore areas.\r\n         <br/>\r\n         <i>NOTE: If survey control marks were used for referencing and/or establishing GDA94 coordinates, localised distortion will need to be taken into account. In this case, the Conformal and Distortion grid should be used to transform to GDA2020 coordinates. If in doubt, contact your state or territory land survey authority.</i>\r\n         <br/>\r\n         <br/>\r\n\r\n         For comprehensive information on GDA94 to GDA2020 transformation, please refer to the <a class="brighter" href="http://icsm.gov.au/datum/gda2020-and-gda94-technical-manuals" target="_blank">ICSM GDA2020 Technical Manual</a> or <a class="brighter" href="http://icsm.gov.au/datum/gda2020-fact-sheets" target="_blank">GDA2020 Fact Sheets</a>\r\n\r\n         <br/>\r\n         <br/>\r\n         <i>NOTE: This web service only transforms from GDA94 geographic coordinates of latitudes and longitudes (with the option of additional ellipsoidal heights), not from MGA94 grid coordinates of eastings, northings and zone.</i>\r\n      </div>\r\n      <div class="col-md-5" >\r\n         <upload-dialog state="root.state" settings="root.data"/>\r\n      </div>\r\n   </div>\r\n</div>'),e.put("positioning/filedrop/filedrop.html",'<div id="fileDrop" title="Drop the files you would like to reproject to GDA2020">\r\n   <br/> Drop <br/> File(s) <br/> Here\r\n</div>'),e.put("positioning/filename/filename.html",'<div class="input-group">\r\n   <span class="input-group-addon" id="nedf-filename">Filename</span>\r\n   <input type="text" ng-maxlength="30" ng-trim="true" ng-keypress="restrict($event)"\r\n         ng-model="state.outputName" class="form-control"\r\n         placeholder="Filename" aria-describedby="pos-filename" />\r\n   <span class="input-group-addon" id="basic-addon2">.zip</span>\r\n</div>'),e.put("positioning/header/header.html",'<div class="container-full common-header" style="padding-right:10px; padding-left:10px">\r\n    <div class="navbar-header">\r\n\r\n        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".ga-header-collapse">\r\n            <span class="sr-only">Toggle navigation</span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n        </button>\r\n        <a href="/" class="appTitle visible-xs">\r\n            <h1 style="font-size:120%">{{heading}}</h1>\r\n        </a>\r\n    </div>\r\n    <div class="navbar-collapse collapse ga-header-collapse">\r\n        <ul class="nav navbar-nav">\r\n            <li class="hidden-xs"><a href="/"><h1 class="applicationTitle">{{heading}}</h1></a></li>\r\n        </ul>\r\n        <ul class="nav navbar-nav navbar-right nav-icons">\r\n        \t<li common-navigation current="current" role="menuitem" style="padding-right:10px"></li>\r\n\t\t\t<li mars-version-display role="menuitem"></li>\r\n\t\t\t<li style="width:10px"></li>\r\n        </ul>\r\n    </div><!--/.nav-collapse -->\r\n</div>\r\n\r\n<!-- Strap -->\r\n<div class="row">\r\n    <div class="col-md-12">\r\n        <div class="strap-blue">\r\n        </div>\r\n        <div class="strap-white">\r\n        </div>\r\n        <div class="strap-red">\r\n        </div>\r\n    </div>\r\n</div>'),e.put("positioning/formats/formats.html",'<div class="panel panel-default">\r\n  <div class="panel-heading"><h3 class="panel-title">Allowed input file types</h3></div>\r\n  <div class="panel-body">\r\n    <span class="label label-info input-format-pill" ng-repeat="item in list" title="{{item.description}} Extensions: {{item.extensions.join(\', \')}}">\r\n       <a ng-href="{{item.url}}" target="_blank">{{item.name}}</a>\r\n    </span>\r\n  </div>\r\n</div>'),e.put("positioning/output/output.html",'<div class="row">\r\n   <div class="col-md-3">\r\n      <label for="geoprocessOutputFormat">\r\n\t\t\t\t\tOutput Format<mandatory />\r\n\t\t\t\t</label>\r\n   </div>\r\n   <div class="col-md-9">\r\n      <select id="geoprocessOutputFormat" style="width:95%" ng-model="state.outFormat" ng-options="opt.value for opt in settings.processing.outFormat"></select>\r\n   </div>\r\n</div>'),e.put("positioning/progress/progresscsv.html",'<div class="row">\r\n      <div class="col-md-4" style="padding-top:7px">\r\n         <div class="progress">\r\n            <div class="progress-bar" role="progressbar" aria-valuenow="{{state.percentage}}"\r\n                     aria-valuemin="0" aria-valuemax="100" style="width: {{state.percentage}}%;">\r\n                <span class="sr-only"></span>\r\n            </div>\r\n         </div>\r\n      </div>\r\n      <div class="col-md-4" style="padding-top:7px">\r\n         <span style="padding-right:10px" uib-tooltip="Add information about your file." tooltip-placement="left">\r\n            <i class="fa fa-file-text-o fa-lg" ng-class="{\'ed-valid\': state.validFileInfo, \'ed-invalid\': !state.validFileInfo}"></i>\r\n         </span>\r\n         <span style="padding-right:10px" uib-tooltip="Select a transformation." tooltip-placement="left">\r\n            <i class="fa fa-cogs fa-lg" ng-class="{\'ed-valid\': state.transformation, \'ed-invalid\': !state.transformation}"></i>\r\n         </span>\r\n         <span style="padding-right:10px" uib-tooltip="Provide an email address." tooltip-placement="left">\r\n            <i class="fa fa-envelope fa-lg" ng-class="{\'ed-valid\': state.validEmail, \'ed-invalid\': !state.validEmail}"></i>\r\n         </span>\r\n      </div>\r\n      <div class="col-md-4">\r\n         <button type="button" class="btn btn-primary" ng-click="cancel()">Cancel</button>\r\n         <button class="btn btn-primary pull-right" ng-disabled="!state.validForm" ng-click="submit()" disabled="disabled">Submit</button>\r\n      </div>\r\n\r\n   </div>'),e.put("positioning/progress/progresshapefile.html",'<div class="row">\r\n      <div class="col-md-4" style="padding-top:7px">\r\n         <div class="progress">\r\n            <div class="progress-bar" role="progressbar" aria-valuenow="{{state.percentage}}"\r\n                     aria-valuemin="0" aria-valuemax="100" style="width: {{state.percentage}}%;">\r\n                <span class="sr-only"></span>\r\n            </div>\r\n         </div>\r\n      </div>\r\n      <div class="col-md-4" style="padding-top:7px">\r\n         <span style="padding-right:10px" uib-tooltip="Provide at least three files (dbf, shx and shp extensions) for reprojection" tooltip-placement="left">\r\n            <i class="fa fa-file-o fa-lg" ng-class="{\'ed-valid\': state.full, \'ed-invalid\': !state.full}"></i>\r\n         </span>\r\n         <span style="padding-right:10px" uib-tooltip="Select a transformation." tooltip-placement="left">\r\n            <i class="fa fa-cogs fa-lg" ng-class="{\'ed-valid\': state.transformation, \'ed-invalid\': !state.transformation}"></i>\r\n         </span>\r\n         <span style="padding-right:10px" uib-tooltip="Provide an email address." tooltip-placement="left">\r\n            <i class="fa fa-envelope fa-lg" ng-class="{\'ed-valid\': state.validEmail, \'ed-invalid\': !state.validEmail}"></i>\r\n         </span>\r\n      </div>\r\n      <div class="col-md-4">\r\n         <button type="button" class="btn btn-primary" ng-click="cancel()">Cancel</button>\r\n         <button class="btn btn-primary pull-right" ng-disabled="!state.validForm" ng-click="submit()" disabled="disabled">Submit</button>\r\n      </div>\r\n   </div>'),e.put("positioning/progress/progresssingle.html",'<div class="row">\r\n   <div class="col-md-4" style="padding-top:7px">\r\n      <div class="progress">\r\n         <div class="progress-bar" role="progressbar" aria-valuenow="{{state.percentage}}"\r\n                  aria-valuemin="0" aria-valuemax="100" style="width: {{state.percentage}}%;">\r\n             <span class="sr-only"></span>\r\n         </div>\r\n      </div>\r\n   </div>\r\n   <div class="col-md-4" style="padding-top:7px">\r\n      <span style="padding-right:10px" uib-tooltip="Select a transformation." tooltip-placement="left">\r\n         <i class="fa fa-cogs fa-lg" ng-class="{\'ed-valid\': state.transformation, \'ed-invalid\': !state.transformation}"></i>\r\n      </span>\r\n      <span style="padding-right:10px" uib-tooltip="Confirm your data is in {{state.transformation|projectionCode}} projection." tooltip-placement="left">\r\n         <i class="fa fa-check-circle-o fa-lg" ng-class="{\'ed-valid\': state.isProjection, \'ed-invalid\': !state.isProjection}"></i>\r\n      </span>\r\n      <span style="padding-right:10px" uib-tooltip="Provide an email address." tooltip-placement="left">\r\n         <i class="fa fa-envelope fa-lg" ng-class="{\'ed-valid\': state.validEmail, \'ed-invalid\': !state.validEmail}"></i>\r\n      </span>\r\n   </div>\r\n   <div class="col-md-4">\r\n      <button type="button" class="btn btn-primary" ng-click="cancel()">Cancel</button>\r\n      <button class="btn btn-primary pull-right" ng-disabled="!state.validForm" ng-click="submit()" disabled="disabled">Submit</button>\r\n   </div>\r\n</div>'),e.put("positioning/shapefile/shapefile.html",'<div>\r\n  <h4>Selected Shapefiles</h4>\r\n  <div ng-repeat="(key, file) in state.file">\r\n\t\t<div class="row" ng-if="!file">\r\n\t\t\t<div class="col-md-12">\r\n            <i class="fa fa-warning" style="color:#f4c842"></i>\r\n            Please drag and drop a file named {{state.outputName}}.{{key}} extension to complete your set for upload.\r\n\t\t\t</div>\r\n\t\t</div>\r\n      <div class="row" ng-if="file">\r\n\t\t\t<div class="col-md-12" ng-if="file">\r\n            <i class="fa fa-check-square" style="color:#328737"></i>\r\n            {{file.name}} ({{file.size | bytes}})\r\n\t\t\t</div>\r\n\t\t</div>\r\n  </div>\r\n</div>')}]);